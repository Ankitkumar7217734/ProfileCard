<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
</head>
<body>
    <h1>QR Code Generator for Profile Card</h1>
    <div>
        <label for="url">URL to encode:</label>
        <input type="text" id="url" value="https://ankitkumar72177.github.io/ProfileCard/" style="width: 400px;">
        <button onclick="generateQR()">Generate QR Code</button>
    </div>
    <div style="margin-top: 20px;">
        <canvas id="qrCanvas"></canvas>
    </div>
    <div style="margin-top: 20px;">
        <a id="downloadLink" style="display: none;">Download QR Code</a>
    </div>

    <script>
        function generateQR() {
            const url = document.getElementById('url').value;
            const canvas = document.getElementById('qrCanvas');
            const downloadLink = document.getElementById('downloadLink');
            
            QRCode.toCanvas(canvas, url, {
                width: 300,
                margin: 2,
                color: {
                    dark: '#000000',
                    light: '#FFFFFF'
                }
            }, function (error) {
                if (error) {
                    console.error(error);
                    alert('Error generating QR code: ' + error.message);
                } else {
                    console.log('QR code generated successfully!');
                    
                    // Create download link
                    canvas.toBlob(function(blob) {
                        const url = URL.createObjectURL(blob);
                        downloadLink.href = url;
                        downloadLink.download = 'profile_card_qr.png';
                        downloadLink.textContent = 'Download QR Code (profile_card_qr.png)';
                        downloadLink.style.display = 'inline-block';
                        downloadLink.style.padding = '10px';
                        downloadLink.style.background = '#007bff';
                        downloadLink.style.color = 'white';
                        downloadLink.style.textDecoration = 'none';
                        downloadLink.style.borderRadius = '5px';
                    });
                }
            });
        }

        // Generate QR code on page load
        window.onload = function() {
            generateQR();
        };
    </script>
</body>
</html>
